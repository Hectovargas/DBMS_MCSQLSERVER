import React, { useState } from 'react';import CreateTableForm from './CreateTableForm';import CreateViewForm from './CreateViewForm';import DDLViewer from './DDLViewer';import './ObjectOperations.css';interface ObjectOperationsProps {  connectionId: string;  schemaName?: string;  onRefresh?: () => void;}type OperationMode = 'none' | 'create-table' | 'create-view' | 'view-ddl';interface DDLObject {  type: 'table' | 'view' | 'function' | 'procedure' | 'trigger' | 'index' | 'sequence';  name: string;  schemaName?: string;}const ObjectOperations: React.FC<ObjectOperationsProps> = ({  connectionId,  schemaName = '',  onRefresh}) => {  const [operationMode, setOperationMode] = useState<OperationMode>('none');  const [ddlObject, setDdlObject] = useState<DDLObject | null>(null);  const handleSuccess = () => {    setOperationMode('none');    onRefresh?.();  };  const handleCancel = () => {    setOperationMode('none');  };  const openDDLViewer = (object: DDLObject) => {    setDdlObject(object);  };  const closeDDLViewer = () => {    setDdlObject(null);  };  const renderContent = () => {    switch (operationMode) {      case 'create-table':        return (          <CreateTableForm            connectionId={connectionId}            schemaName={schemaName}            onSuccess={handleSuccess}            onCancel={handleCancel}          />        );      case 'create-view':        return (          <CreateViewForm            connectionId={connectionId}            schemaName={schemaName}            onSuccess={handleSuccess}            onCancel={handleCancel}          />        );      default:        return (          <div className="object-operations-main">            <div className="operations-header">              <h2>Operaciones sobre Objetos</h2>              <p>Gestiona tablas, vistas y otros objetos de base de datos</p>            </div>            <div className="operations-grid">              <div className="operation-card">                <div className="card-icon">üìä</div>                <h3>Crear Tabla</h3>                <p>Define la estructura de una nueva tabla con columnas, tipos de datos y restricciones</p>                <button                  onClick={() => setOperationMode('create-table')}                  className="btn btn-primary"                >                  Crear Tabla                </button>              </div>              <div className="operation-card">                <div className="card-icon">üëÅÔ∏è</div>                <h3>Crear Vista</h3>                <p>Crea una nueva vista basada en una consulta SELECT personalizada</p>                <button                  onClick={() => setOperationMode('create-view')}                  className="btn btn-primary"                >                  Crear Vista                </button>              </div>              <div className="operation-card">                <div className="card-icon">üîç</div>                <h3>Ver DDL</h3>                <p>Genera y visualiza el DDL de objetos existentes para modificaciones</p>                <div className="ddl-options">                  <button                    onClick={() => openDDLViewer({ type: 'table', name: 'ejemplo_tabla', schemaName })}                    className="btn btn-secondary btn-sm"                  >                    Tabla                  </button>                  <button                    onClick={() => openDDLViewer({ type: 'view', name: 'ejemplo_vista', schemaName })}                    className="btn btn-secondary btn-sm"                  >                    Vista                  </button>                  <button                    onClick={() => openDDLViewer({ type: 'function', name: 'ejemplo_funcion', schemaName })}                    className="btn btn-secondary btn-sm"                  >                    Funci√≥n                  </button>                </div>              </div>              <div className="operation-card">                <div className="card-icon">üìù</div>                <h3>Modificar Objetos</h3>                <p>Exporta el DDL de objetos existentes para realizar modificaciones</p>                <div className="modify-options">                  <p className="info-text">                    Para modificar un objeto:                  </p>                  <ol className="steps-list">                    <li>Genera el DDL del objeto</li>                    <li>Modifica el SQL seg√∫n tus necesidades</li>                    <li>Ejecuta el SQL modificado</li>                  </ol>                </div>              </div>            </div>            <div className="operations-info">              <h3>Informaci√≥n Importante</h3>              <div className="info-grid">                <div className="info-item">                  <strong>Creaci√≥n:</strong> Las tablas y vistas se crean directamente en la base de datos                </div>                <div className="info-item">                  <strong>DDL:</strong> Se genera autom√°ticamente desde los metadatos de la base de datos                </div>                <div className="info-item">                  <strong>Modificaci√≥n:</strong> Exporta el DDL, modif√≠calo y ejec√∫talo manualmente                </div>                <div className="info-item">                  <strong>Compatibilidad:</strong> Soporta Firebird y otros motores de base de datos                </div>              </div>            </div>          </div>        );    }  };  return (    <div className="object-operations">      {renderContent()}      {ddlObject && (        <DDLViewer          connectionId={connectionId}          objectType={ddlObject.type}          objectName={ddlObject.name}          schemaName={ddlObject.schemaName}          onClose={closeDDLViewer}        />      )}    </div>  );};export default ObjectOperations;